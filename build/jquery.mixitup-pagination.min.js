/**! 
 *
 * MixItUp Pagination
 * A Premium Extension for MixItUp
 *
 * @version		v1.0.0-beta
 * @copyright	Copyright 2014 KunkaLabs Limited.
 * @author		KunkaLabs Limited.
 * @link		https://mixitup.kunkalabs.com
 *
 * @license		Commercial use requires a commercial license. 
 *				https://mixitup.kunkalabs.com/licenses/
 *
 *				Non-commercial use permitted under terms of CC-BY-NC license.
 *				http://creativecommons.org/licenses/by-nc/3.0/
 *
 */
!function(a,b){a.extend(!0,a.MixItUp.prototype,{_actions:{_constructor:{post:{pagination:function(){var b=this;b.pagination={limit:0,page:1,loop:!1,generatePagers:!0,pagerClass:""},a.extend(b.selectors,{pagersWrapper:".pager-list",pager:".pager"}),b._activePage=null,b._totalPages=null,b._$pagersWrapper=a()}}},_init:{post:{pagination:function(){var a=this;a._activePage=a.pagination.page}}},_bindHandlers:{post:{pagination:function(){var b=this;b.pagination.generatePagers&&(b._$pagersWrapper=a(b.selectors.pagersWrapper)),b.controls.live?b._$body.on("click.mixItUp."+b._id,b.selectors.pager,function(){b._processClick(a(this),"page")}):b._$pagersWrapper.on("click.mixItUp."+b._id,b.selectors.pager,function(){b._processClick(a(this),"page")})}}},_processClick:{post:{pagination:function(a){var b=this,c=null,d=a[0],e=a[1];"page"===e&&(c=d.attr("data-page"),c="prev"===c?b._getPrevPage():"next"===c?b._getNextPage():1*c,d.hasClass(b.controls.activeClass)||b.paginate(c))}}},_buildState:{post:{pagination:function(){var b=this;a.extend(b._state,{limit:b.pagination.limit,activePage:b._activePage,totalPages:b._totalPages})}}},_sort:{post:{pagination:function(){var a=this;a.pagination.limit>0&&a._printSort()}}},_filter:{post:{pagination:function(){var a=this,b=a.pagination.limit*(a.pagination.page-1),c=a.pagination.limit*a.pagination.page-1,d=null,e=null;a._activePage=a.pagination.page,a._totalPages=a.pagination.limit?Math.ceil(a._$show.length/a.pagination.limit):1,a.pagination.limit>0&&(d=a._$show.filter(function(a){return a>=b&&c>=a}),e=a._$show.filter(function(a){return b>a||a>c}),a._$show=d,a._$hide=a._$hide.add(e),a._sorting&&a._printSort(!0)),a.pagination.generatePagers&&a._$pagersWrapper.length&&a._generatePagers()}}},multiMix:{pre:{pagination:function(c){var d=this,c=d._parseMultiMixArgs(c);c.command.paginate!==b?"object"==typeof c.command.paginate?a.extend(d.pagination,c.command.paginate):d.pagination.page=c.command.paginate:(c.command.filter!==b||c.command.sort!==b)&&(d.pagination.page=1)}}},destroy:{post:{pagination:function(){var a=this;a._$pagersWrapper.off(".mixItUp").html("")}}}},_getNextPage:function(){var a=this,b=a._activePage+1,b=a._activePage<a._totalPages?b:a.pagination.loop?1:a._activePage;return a._execFilter("_getNextPage",1*b)},_getPrevPage:function(){var a=this,b=a._activePage-1,b=a._activePage>1?b:a.pagination.loop?a._totalPages:a._activePage;return a._execFilter("_getPrevPage",1*b)},_generatePagers:function(){var a=this,b="UL"===a._$pagersWrapper[0].nodeName?"li":"span",c=a.pagination.pagerClass?a.pagination.pagerClass+" ":"",d="<"+b+' class="'+c+'pager page-prev" data-page="prev"><span>&laquo;</span></'+b+">",d=a._activePage>1?d:a.pagination.loop?d:"",e="<"+b+' class="'+c+'pager page-next" data-page="next"><span>&raquo;</span></'+b+">",e=a._activePage<a._totalPages?e:a.pagination.loop?e:"",f=a._totalPages>5?5:a._totalPages,g="",h="";a._execAction("_generatePagers",0);for(var i=0;f>i;i++){var j=null,k="";0===i?(j=1,a._activePage>3&&a._totalPages>5&&(k=" page-first")):5>f?j=i+1:4===i?(j=a._totalPages,a._activePage<a._totalPages-2&&a._totalPages>5&&(k=" page-last")):a._activePage>3&&a._activePage<a._totalPages-2?j=a._activePage-(2-i):a._activePage<4?j=i+1:a._activePage>=a._totalPages-2&&(j=a._totalPages-(4-i)),k=j===a._activePage?k+" "+a.controls.activeClass:k,g+="<"+b+' class="'+c+"pager page-number"+k+'" data-page="'+j+'"><span>'+j+"</span></"+b+"> "}h=a._totalPages>1?d+" "+g+" "+e:"",a._$pagersWrapper.html(h),a._execAction("_generatePagers",1)},_parsePaginateArgs:function(a){for(var b=this,c={command:null,animate:!0,callback:null},d=0;d<a.length;d++){var e=a[d];null!==e&&("object"==typeof e||"number"==typeof e?c.command=e:"boolean"==typeof e?c.animate=e:"function"==typeof e&&(c.callback=e))}return b._execFilter("_parsePaginateArgs",c,arguments)},paginate:function(){var a=this,b=a._parsePaginateArgs(arguments);a.multiMix({paginate:b.command},b.animate,b.callback)},nextPage:function(){var a=this,b=a._parsePaginateArgs(arguments);a.multiMix({paginate:a._getNextPage()},b.animate,b.callback)},prevPage:function(){var a=this,b=a._parsePaginateArgs(arguments);a.multiMix({paginate:a._getPrevPage()},b.animate,b.callback)}})}(jQuery);